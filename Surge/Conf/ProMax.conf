[General]
# é˜²æ­¢DNSæ³„æ¼
dns-server = 1.1.1.1ï¼Œ8.8.8.8

# é˜²è¿è¥å•†åŠ«æŒ
hijack-isps = myhost

# å†…å®¹åŠ å¯†
tun-type = auto

# æµé‡ä¼ªè£…å’Œè™šæ‹Ÿè·¯ç”±
compatibility-mode = 0
ipv6 = false

# NTAç©¿é€
force-socks-protocol-ip = masquerade
tcp-masquerade = 192.168.1.1
udp-masquerade = 192.168.1.1

# éšè—MACåœ°å€å’Œè®¾å¤‡ä¿¡æ¯  
wifi-interface-name = en0
wifi-access-http-user-agent = Mozilla/5.0 (iPhone; CPU iPhone OS 14_0_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1

[Proxy]
ğŸš€ é¦™æ¸¯èŠ‚ç‚¹ = æœåŠ¡å™¨åœ°å€:ç«¯å£, åŠ å¯†åè®®, å¯†ç 
ğŸš€ ç¾å›½èŠ‚ç‚¹ = æœåŠ¡å™¨åœ°å€:ç«¯å£, åŠ å¯†åè®®, å¯†ç  
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹ = æœåŠ¡å™¨åœ°å€:ç«¯å£, åŠ å¯†åè®®, å¯†ç 

[Proxy Group]
PROXY = select, ğŸš€ é¦™æ¸¯èŠ‚ç‚¹, ğŸš€ ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, DIRECT
STREAM = select, ğŸš€ é¦™æ¸¯èŠ‚ç‚¹, ğŸš€ ç¾å›½èŠ‚ç‚¹

[Rule]
# è§„åˆ™ä¿®æ­£
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR6,fe80::/10,DIRECT

# é˜²æ­¢è¿è¥å•†åŠ«æŒç³»ç»ŸæœåŠ¡
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,DIRECT

# å›½å†…åŸŸåç›´è¿  
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,DIRECT

# å¤§æµé‡åˆ†æµ
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia.list,STREAM

# é˜²æ±¡æŸ“DNS
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/WhiteList.list,PROXY

# å›½å¤–åŸŸåèµ°ä»£ç†
FINAL,PROXY  

[HIJACK-DNS]
HIJACK-DNS = 8.8.8.8:53, 1.1.1.1:853, doh-server=https://dns.adguard.com/dns-query, REJECT

[MITM]
hostname = *.example.com
skip-server-cert-verify = true
tcp-service = masquerade-pass=192.168.1.1

[Script]
stream-video-ov = script, video-ov.js, youtube.com
stream-video-ov = script, video-ov.js, *.bilibili.com